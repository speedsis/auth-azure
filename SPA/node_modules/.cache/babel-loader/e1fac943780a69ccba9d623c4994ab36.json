{"ast":null,"code":"/**\r\n * -------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation.  All Rights Reserved.  Licensed under the MIT License.\r\n * See License in the project root for license information.\r\n * -------------------------------------------------------------------------------------------\r\n */\n\n/**\r\n * @module OneDriveLargeFileUploadTaskUtil\r\n */\n\n/**\r\n * @constant\r\n * Default value for the rangeSize\r\n * Recommended size is between 5 - 10 MB {@link https://developer.microsoft.com/en-us/graph/docs/api-reference/v1.0/api/driveitem_createuploadsession#best-practices}\r\n */\nconst DEFAULT_FILE_SIZE = 5 * 1024 * 1024;\n/**\r\n * @constant\r\n * Rounds off the given value to a multiple of 320 KB\r\n * @param {number} value - The value\r\n * @returns The rounded off value\r\n */\n\nconst roundTo320KB = value => {\n  if (value > 320 * 1024) {\n    value = Math.floor(value / (320 * 1024)) * 320 * 1024;\n  }\n\n  return value;\n};\n/**\r\n * @constant\r\n * Get the valid rangeSize for a file slicing (validity is based on the constrains mentioned in here\r\n * {@link https://developer.microsoft.com/en-us/graph/docs/api-reference/v1.0/api/driveitem_createuploadsession#upload-bytes-to-the-upload-session})\r\n *\r\n * @param {number} [rangeSize = DEFAULT_FILE_SIZE] - The rangeSize value.\r\n * @returns The valid rangeSize\r\n */\n\n\nexport const getValidRangeSize = (rangeSize = DEFAULT_FILE_SIZE) => {\n  const sixtyMB = 60 * 1024 * 1024;\n\n  if (rangeSize > sixtyMB) {\n    rangeSize = sixtyMB;\n  }\n\n  return roundTo320KB(rangeSize);\n};","map":{"version":3,"sources":["../../../src/tasks/OneDriveLargeFileUploadTaskUtil.ts"],"names":[],"mappings":"AAAA;;;;;AAKG;;AAEH;;AAEG;;AAEH;;;;AAIG;AACH,MAAM,iBAAiB,GAAW,IAAI,IAAJ,GAAW,IAA7C;AAEA;;;;;AAKG;;AACH,MAAM,YAAY,GAAI,KAAD,IAA0B;AAC9C,MAAI,KAAK,GAAG,MAAM,IAAlB,EAAwB;AACvB,IAAA,KAAK,GAAG,IAAI,CAAC,KAAL,CAAW,KAAK,IAAI,MAAM,IAAV,CAAhB,IAAmC,GAAnC,GAAyC,IAAjD;AACA;;AACD,SAAO,KAAP;AACA,CALD;AAOA;;;;;;;AAOG;;;AACH,OAAO,MAAM,iBAAiB,GAAG,CAAC,SAAA,GAAoB,iBAArB,KAAkD;AAClF,QAAM,OAAO,GAAG,KAAK,IAAL,GAAY,IAA5B;;AACA,MAAI,SAAS,GAAG,OAAhB,EAAyB;AACxB,IAAA,SAAS,GAAG,OAAZ;AACA;;AACD,SAAO,YAAY,CAAC,SAAD,CAAnB;AACA,CANM","sourceRoot":"","sourcesContent":["/**\r\n * -------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation.  All Rights Reserved.  Licensed under the MIT License.\r\n * See License in the project root for license information.\r\n * -------------------------------------------------------------------------------------------\r\n */\r\n/**\r\n * @module OneDriveLargeFileUploadTaskUtil\r\n */\r\n/**\r\n * @constant\r\n * Default value for the rangeSize\r\n * Recommended size is between 5 - 10 MB {@link https://developer.microsoft.com/en-us/graph/docs/api-reference/v1.0/api/driveitem_createuploadsession#best-practices}\r\n */\r\nconst DEFAULT_FILE_SIZE = 5 * 1024 * 1024;\r\n/**\r\n * @constant\r\n * Rounds off the given value to a multiple of 320 KB\r\n * @param {number} value - The value\r\n * @returns The rounded off value\r\n */\r\nconst roundTo320KB = (value) => {\r\n    if (value > 320 * 1024) {\r\n        value = Math.floor(value / (320 * 1024)) * 320 * 1024;\r\n    }\r\n    return value;\r\n};\r\n/**\r\n * @constant\r\n * Get the valid rangeSize for a file slicing (validity is based on the constrains mentioned in here\r\n * {@link https://developer.microsoft.com/en-us/graph/docs/api-reference/v1.0/api/driveitem_createuploadsession#upload-bytes-to-the-upload-session})\r\n *\r\n * @param {number} [rangeSize = DEFAULT_FILE_SIZE] - The rangeSize value.\r\n * @returns The valid rangeSize\r\n */\r\nexport const getValidRangeSize = (rangeSize = DEFAULT_FILE_SIZE) => {\r\n    const sixtyMB = 60 * 1024 * 1024;\r\n    if (rangeSize > sixtyMB) {\r\n        rangeSize = sixtyMB;\r\n    }\r\n    return roundTo320KB(rangeSize);\r\n};\r\n//# sourceMappingURL=OneDriveLargeFileUploadTaskUtil.js.map"]},"metadata":{},"sourceType":"module"}